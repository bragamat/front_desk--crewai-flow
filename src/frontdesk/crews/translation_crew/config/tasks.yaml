detect_language:
  description: >
    Analyze the user's input: "{content}"
    
    Previous conversation context: {history}
    
    Identify and determine:
    1. The language used in the user's message
    2. The formality level (formal, informal, casual)
    3. The cultural context if relevant
    4. Any specific linguistic nuances or dialects
    5. The appropriate language for response (same as input)
    6. A translated version in English
    
    This will guide how we respond to maintain natural conversation flow.
  expected_output: >
    A comprehensive language analysis containing:
    - Detected language (e.g., English, Spanish, French, etc.)
    - Formality level and tone
    - Cultural context notes
    - Recommended response language and style
  agent: language_detector
